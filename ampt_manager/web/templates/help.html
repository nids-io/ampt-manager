{% extends "layout.html" %}

{% block title %}AMPT Help{% endblock %}
{% block body %}
<div class="row">
  <div class="col-md-8">
{% filter markdown %}
# {{ self.title() }}

## Overview

AMPT is the active monitor for passive tools. The toolset allows operators
of network IDS sensors and related passive monitoring systems to verify
devicesâ€™ visibility to traffic streams on monitored network segments, and to
be alerted when that visibility is interrupted. AMPT was designed from
realization that passive monitoring systems, if not constantly verified, may
loose traffic visibility due to various factors. These factors are often out
of control of the team operating the monitoring infrastructure, and when it
happening, admins may have no way of verifying that traffic visibility loss
is occurring.

AMPT's goal is to add verifiability to the practice of monitoring network
traffic and aid admins in maintaining operational and effective security
monitoring services.

### AMPT Concepts

AMPT is based on a few simple concepts that work together to allow monitoring
of passive network sniffing devices:

* **Monitored segments**: network segments or links that are monitored by
  passive sensing devices and for which continual visibility is critical.
* **Traffic monitors or sensors**: any sensor device such as a network IDS
  (NIDS), full packet capture system, NSM sensor, etc. which is employed
  to capture or inspect network traffic streams, typically for purposes
  of security monitoring.
* **Passive traffic monitoring**: passive monitoring indicates the use of a
  traffic monitor to inspect a copy of network traffic sent on a link,
  typically by receiving the traffic from a network TAP or a mirror/SPAN
  port on another network infrastructure device such as a switch. AMPT
  differentiates passive devices from "active" devices such as IPS sensors,
  which sit inline on the network link. Problems of network visibility loss
  are typically encountered with passive monitoring devices; when an inline
  device looses visibility, it's typically known because traffic forwarding
  is impacted. Visibility losses on passive devices typically cause no
  network outage and may therefore go unnoticed for extended periods of time.
* **Probe packets**: IP packets that are specially crafted with the intent of
  being sent on the wire and routed to a destination on the other end of a
  monitored network link. Probe packets follow a specification given along
  with Monitored Segments, and allow the destination IP address, destination
  port, and IP transport protocol (TCP or UDP) to be defined. Probe packets
  contain a special string in the payload, and are designed to match an IDS
  rule used to identify probe packets on target sensors:

          0c56f99b-cf66-4679-9be2-3b6384c27586.NIDS_HEALTH_CHECK 

* **Alert logs**: event logs generated by passive traffic sensors which can be
  monitored for sightings of the probe packets on monitored segments. These
  are reported back to the AMPT monitor, allowing it to keep track of which
  monitored segments on the network are being monitored correctly, and which
  ones appear to be experiencing monitoring outages.

### AMPT Nodes

AMPT is a distributed monitoring system consisting of a manager, one or more
probe generators, and one or more event monitor nodes. It is designed to
monitor traffic visibility health across an entire deployment base. All
components may be installed on a single host (for example, a single network
sensor). Or, for larger networks or more complex monitoring deployments,
different components may be installed at various locations on the network.

The components of the AMPT framework are as follows:

#### The AMPT Manager

*ampt-manager*

The manager is the central component in AMPT that allows admins to define
basic components like monitored network segments, available probe generators
and event monitors. It dispatches probe packet generation requests to
generators, and receives and logs probe alert events from monitors. It
alerts administrators when traffic monitoring visibility is impacted. A
deployment of AMPT should have one manager node.

#### The Probe Generator

*ampt-generator*

The probe generator is a relatively dumb traffic generator, able to listen
for probe dispatch requests from the AMPT manager and craft packets
according to specifications. These crafted packets are sent to network
endpoints defined on the AMPT manager, and should cross a network link that
is monitored by the target NIDS sensor or other traffic monitoring device in
order to trigger an alert on a signature for the crafted packet. A
deployment of AMPT should have at least one generator node, but depending on
the topology and needs of a monitored network, multiple generators may be
placed at specific locations for traffic generation. It may also be the case
that probe generators are placed on remote networks, for example when
external sources must generate probe packets to public network segments that
are unreachable from internal networks due to segmentation or routing
design.

#### The Event Monitor

*ampt-monitor*

The event monitor is the part of the AMPT system that monitors for sensor
logs indicating that a probe packet from AMPT has been detected and notifies
the AMPT manager when this occurs. AMPT monitors are modular in design, in
order to support plugins that allow them to handle event logging from a
number of commonly used network traffic monitors. These include:

* [Suricata IDS] [suricata]
* [Snort IDS] [snort]
* [Bro IDS] [bro]
* [Moloch ] [moloch]

[suricata]: https://suricata-ids.org/  "Suricata free and open source, mature, fast and robust network threat detection engine"
[snort]: https://www.snort.org/  "Snort open source intrusion prevention system"
[bro]: https://www.bro.org/  "The Bro Network Security Monitor"
[moloch]: https://github.com/aol/moloch  "Moloch open source, large scale, full packet capturing, indexing, and database system"

A deployment of AMPT should have at least one generator node, but depending
on the topology and needs of a monitored network, multiple generators may be
placed at specific locations for traffic generation. It may also be the case
that probe generators are placed on remote networks, for example when
external sources must generate probe packets to public network segments that
are unreachable from internal networks due to segmentation or routing
design.

## Quick Start

Coming soon.

{% endfilter %}
    </div>
  </div>
{% endblock %}

